<!doctype html>
<html lang=en>
<meta charset=utf-8>
<meta name=viewport content=width=device-width,initial-scale=1>
<title>arz.is-a.dev</title>
<style>
  html,
  body {
    margin: 0;
    height: 100%;
    background: #05060a;
    color: #e6ecff;
    font: 400 13px/1.4 ui-monospace, Menlo, Consolas, monospace
  }

  #c {
    position: fixed;
    inset: 0
  }

  #ui {
    position: fixed;
    left: 50%;
    bottom: 16px;
    transform: translateX(-50%);
    padding: 6px 10px;
    border: 1px solid #ffffff26;
    border-radius: 10px;
    background: #0008;
    backdrop-filter: blur(8px);
    color: #aeb8d1;
    display: flex;
    gap: 10px;
    align-items: center
  }

  #ui b {
    color: #9fafff
  }

  #name {
    color: #e6ecff
  }

  #hdr {
    position: fixed;
    left: 50%;
    top: 16px;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    align-items: center;
    background: #0008;
    border: 1px solid #ffffff26;
    padding: 6px 10px;
    border-radius: 10px
  }

  button {
    all: unset;
    cursor: pointer;
    padding: 2px 8px;
    border: 1px solid #ffffff26;
    border-radius: 8px;
    color: #cbd5e1
  }

  button:hover {
    background: #ffffff15
  }

  #fallback {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    text-align: center;
    padding: 20px
  }
</style>
<canvas id=c>
</canvas>
<div id=hdr>
  <span>ARZ / is‚Äëa.dev</span>
  <button id=pv>‚óÄ</button>
  <span id=ix>
  </span>
  <button id=nx>‚ñ∂</button>
  <button id=ss>üì∏</button>
</div>
<div id=ui>
  <span>Modes: <b>‚Üê / ‚Üí</b> ¬∑ Speed: <b>‚Üë / ‚Üì</b> ¬∑ Burst: <b>Click+Drag</b> ¬∑ Random: <b>R</b> ¬∑ Snapshot: <b>S</b>
  </span> <span id=name>
  </span>
</div>
<div id=fallback hidden>
  <div>
    <h1 style=color:#dbeafe;margin:.2rem 0><!-- Text 1--></h1>
    <p style=color:#9fb1d1;margin:.2rem 0><!-- Text 2 --></p>
  </div>
</div>
<script>
  /* ==== Enhanced psychedelic WebGL animation (20 modes + fallback) ==== */
  (() => {
    "use strict";
    const D = document,
      Q = s => D.querySelector(s),
      C = Q('#c');
    const O = {
      antialias: !1,
      preserveDrawingBuffer: !0,
      alpha: !1,
      powerPreference: 'low-power'
    };
    let gl2 = C.getContext('webgl2', O),
      gl = gl2 || C.getContext('webgl', O) || C.getContext('experimental-webgl', O);
    let DPR = Math.min(devicePixelRatio || 1, 2),
      W = 0,
      H = 0,
      sp = 1;
    let colorShift = 0.,
      shapeDistortion = 0.,
      pulseIntensity = 0.,
      timeOffset = 0.;
    const R = () => {
      W = innerWidth;
      H = innerHeight;
      C.width = W * DPR;
      C.height = H * DPR;
      C.style.width = W + 'px';
      C.style.height = H + 'px';
      if (gl) gl.viewport(0, 0, C.width, C.height)
    };
    addEventListener('resize', R);
    R();
    let md = Math.floor(Math.random() * 20) + 1,
      mx = .5,
      my = .5,
      down = 0,
      nm = ["Neon Tunnel", "Nebula", "Circuit Hex", "Spiral Flow", "Kaleido", "Ripple Warp", "Solar Flare", "Glass Grid", "Marble", "Lava", "Plasma", "Aurora", "Starfield", "Sand Dunes", "Cell Noise", "Sunburst", "Vortex", "Ocean", "Lens Garden", "Dreamscape"];
    const setName = () => {
      Q('#ix').textContent = `${md}/20`;
      Q('#name').textContent = '‚Äì ' + nm[md - 1]
    };
    const norm = e => {
      let r = C.getBoundingClientRect();
      return [(e.clientX - r.left) * DPR / C.width, (H - (e.clientY - r.top)) * DPR / C.height]
    };
    C.onpointerdown = () => {
      down = 1;
      pulseIntensity = 1
    };
    C.onpointerup = () => {
      down = 0;
      pulseIntensity = .3
    };
    C.onpointermove = e => {
      let [x, y] = norm(e);
      mx = x;
      my = y;
      colorShift = (x + y) * 2.;
      shapeDistortion = Math.hypot(x - .5, y - .5) * 3.;
    };
    Q('#pv').onclick = () => {
      md--;
      if (md < 1) md = 20;
      setName()
    };
    Q('#nx').onclick = () => {
      md++;
      if (md > 20) md = 1;
      setName()
    };
    Q('#ss').onclick = () => {
      let a = D.createElement('a');
      a.download = 'arz-' + Date.now() + '.png';
      a.href = C.toDataURL('image/png');
      a.click()
    };
    addEventListener('keydown', e => {
      let k = e.key;
      if (k === 'ArrowLeft') {
        md--;
        if (md < 1) md = 20;
        setName()
      } else if (k === 'ArrowRight') {
        md++;
        if (md > 20) md = 1;
        setName()
      } else if (k === 'ArrowUp') {
        sp = Math.min(3, sp + .1)
      } else if (k === 'ArrowDown') {
        sp = Math.max(.3, sp - .1)
      } else if (k.toLowerCase() === 's') {
        Q('#ss').click()
      } else if (k.toLowerCase() === 'r') {
        md = Math.floor(Math.random() * 20) + 1;
        setName()
      }
    });
    setName();
    if (!gl) {
      Q('#fallback').hidden = !1;
      const k = C.getContext('2d');
      let pts = [];
      for (let i = 0; i < 260; i++) pts.push({
        x: Math.random() * W,
        y: Math.random() * H,
        vx: (Math.random() - .5) * .8,
        vy: (Math.random() - .5) * .8,
        s: Math.random() * 1.6 + 1,
        h: Math.random() * 360
      });
      let bx = W / 2,
        by = H / 2;
      C.onpointermove = e => {
        bx = e.clientX;
        by = e.clientY;
        if (down)
          for (let i = 0; i < 10; i++) pts.push({
            x: bx,
            y: by,
            vx: (Math.random() - .5) * 2,
            vy: (Math.random() - .5) * 2,
            s: 1,
            h: Math.random() * 360
          })
      };
      (function L() {
        k.fillStyle = '#05060a';
        k.fillRect(0, 0, W, H);
        for (let i = 0; i < pts.length; i++) {
          let p = pts[i],
            dx = bx - p.x,
            dy = by - p.y,
            ds = Math.hypot(dx, dy) + 1;
          p.vx += dx / ds * .04;
          p.vy += dy / ds * .04;
          p.vx *= .985;
          p.vy *= .985;
          p.x += p.vx;
          p.y += p.vy;
          p.h = (p.h + .5) % 360;
          if (p.x < 0 || p.x > W) p.vx *= -1;
          if (p.y < 0 || p.y > H) p.vy *= -1;
          k.globalAlpha = .9;
          k.fillStyle = `hsl(${p.h},100%,70%)`;
          k.beginPath();
          if (i % 7 === 0) {
            const s = 3 + Math.floor(Math.random() * 5),
              a = 6.28318 / s;
            for (let j = 0; j < s; j++) {
              let r = (p.s * (.7 + Math.random() * .6)),
                x = p.x + r * Math.cos(a * j),
                y = p.y + r * Math.sin(a * j);
              j ? k.lineTo(x, y) : k.moveTo(x, y)
            }
            k.closePath()
          } else {
            k.arc(p.x, p.y, p.s, 0, 7)
          }
          k.fill();
          for (let j = i - 1; j > i - 16 && j >= 0; j--) {
            let q = pts[j],
              d = Math.hypot(p.x - q.x, p.y - q.y);
            if (d < 120) {
              k.globalAlpha = 1 - d / 120;
              let hh = (p.h + q.h) / 2;
              k.strokeStyle = `hsla(${hh},100%,60%,${k.globalAlpha})`;
              k.beginPath();
              k.moveTo(p.x, p.y);
              k.lineTo(q.x, q.y);
              k.stroke()
            }
          }
        }
        requestAnimationFrame(L)
      })();
      return
    }
    Q('#fallback').hidden = !0;
    const is2 = !!gl2;
    const VS2 = `#version 300 es
precision highp float;const vec2 P[3]=vec2[3](vec2(-1,-1),vec2(3,-1),vec2(-1,3));void main(){gl_Position=vec4(P[gl_VertexID],0,1);} `;
    const VS1 = `attribute vec2 a;void main(){gl_Position=vec4(a,0.0,1.0);} `;
    const FS2 = `#version 300 es
precision highp float;out vec4 o;uniform vec2 r;uniform float t;uniform vec2 m;uniform int md;uniform float sp;uniform float colorShift;uniform float shapeDistortion;uniform float pulseIntensity;`;
    const FS1 = `precision highp float;uniform vec2 r;uniform float t;uniform vec2 m;uniform int md;uniform float sp;uniform float colorShift;uniform float shapeDistortion;uniform float pulseIntensity;`;
    const CORE = `float N(vec2 p){p=fract(p*vec2(123.34,345.45));p+=dot(p,p+34.45);return fract(p.x*p.y);}vec3 pal(float x){return .5+.5*cos(6.28318*(vec3(.0,.33,.67)+x+colorShift));}float fbm(vec2 p){float s=0.,a=.5;for(int i=0;i<6;i++){s+=a*N(p+shapeDistortion);p*=2.02+shapeDistortion*.1;a*=.5;}return s;}float vor(vec2 p){vec2 g=floor(p),f=fract(p);float d=1.;for(int j=-1;j<=1;j++)for(int i=-1;i<=1;i++){vec2 o=vec2(float(i),float(j));o+=shapeDistortion*.1*sin(t*.5+length(o));d=min(d,length(f-o-N(g+o)));}return d;}mat2 rot(float a){float c=cos(a),s=sin(a);return mat2(c,-s,s,c);}vec3 tunnel(vec2 p){float r=length(p);float a=atan(p.y,p.x);float q=sin(10.*a-1.2*t*sp)+cos(8.*r-1.6*t*sp)+pulseIntensity*sin(15.*a+2.*t*sp);vec3 c=pal(q*.2+(.5+.5*sin(5.*r-2.*t*sp))*.5+r*.2);float g=1./(r*8.+.2);return c*g+pow(c,vec3(1.4))*(.1+pulseIntensity*.2);}vec3 neb(vec2 p){float z=fbm(p*2.+t*.06*sp);vec3 c=mix(vec3(.02,.03,.06),pal(z*.8+.2+colorShift),.9);float g=.03/length(p-.25*sin(t*.7*sp));return c+g*(1.+pulseIntensity);}vec3 psychedelicBurst(vec2 p){float r=length(p);float a=atan(p.y,p.x);float seg=12.+6.*sin(t*.3);float spr=sin(seg*a+5.*log(r+1.)-t*3.*sp);float pul=.5+.5*sin(t*5.*sp);return pal(spr*.5+r*2.+colorShift)*(pul+pulseIntensity);}vec3 organicBlobs(vec2 p){p*=3.+shapeDistortion*.5;float d=vor(p);float e=smoothstep(.0,.1,d);vec3 col=pal(d*4.+t*2.+colorShift);return mix(col,vec3(0),e)*(1.+pulseIntensity*.5);}vec3 kale(vec2 p){p*=rot(t*.15*sp);vec2 q=abs(fract(p*2.)-.5);float s=sin(20.*q.x)+cos(20.*q.y);return pal(s*.15+fbm(p*3.)*.6+colorShift);}vec3 ripple(vec2 p){float r=length(p);float w=sin(40.*r-6.*t*sp);return pal(w*.25+r*.2+colorShift);}vec3 flare(vec2 p){vec2 q=p*rot(t*.2*sp);float R=length(q);vec3 c=pal(R*2.+t*.3*sp+colorShift);c+=.04/(R+.02);return c;}vec3 grid(vec2 p){p*=rot(t*.25*sp);vec2 g=abs(fract(p*8.)-.5);float l=smoothstep(.02,.0,min(g.x,g.y));return mix(vec3(.02,.03,.06),pal(l+colorShift),l);}vec3 marble(vec2 p){float v=sin(p.x*6.+fbm(p*3.)*3.-t*sp*2.);return pal(v*.4+colorShift);}vec3 lava(vec2 p){float v=fbm(p*4.-t*sp*.5);vec3 c=mix(vec3(.1,0.,0.),vec3(1.,.4,.0),smoothstep(.3,.8,v));return c*(1.+pulseIntensity*.3);}vec3 plasma(vec2 p){float v=sin(p.x*3.+t*sp)+sin(p.y*5.-t*sp)+sin((p.x+p.y)*4.);return pal(v*.2+colorShift);}vec3 aur(vec2 p){vec2 q=p*rot(.5);float v=fbm(vec2(q.x*6.,q.y*1.2)+t*sp*.2);return mix(vec3(0,.02,.05),pal(v*.8+.2+colorShift),.8);}vec3 star(vec2 p){float s=0.;for(int i=0;i<6;i++){vec2 q=p*rot(float(i)*.5+t*.05*sp);s+=smoothstep(.0,.8,N(q*50.));}return pal(s*.1+.1+colorShift)+.01/length(p);}vec3 dunes(vec2 p){float h=sin(p.x*3.+fbm(p*2.)*3.-t*sp)+sin(p.x*2.-t*sp);return mix(vec3(.05,.04,.03),pal(h*.2+.2+colorShift),.8);}vec3 cell(vec2 p){float v=vor(p*4.);return mix(vec3(.02,.03,.06),pal((.5-v)*.8+colorShift),.9);}vec3 sun(vec2 p){float a=atan(p.y,p.x);float r=length(p);float v=sin(a*12.-t*sp*4.)*sin(r*40.-t*sp*2.);return pal(v*.2+r*.3+colorShift)+.05/(r+.02);}vec3 vort(vec2 p){p*=rot(t*.2*sp);float R=length(p);float a=atan(p.y,p.x);float v=sin(a*8.+R*20.-t*sp*2.);return pal(v*.3+colorShift);}vec3 ocean(vec2 p){float w=sin(p.x*2.+t*sp*.8)+sin(p.y*3.-t*sp*.6)+fbm(p*2.);return mix(vec3(.0,.05,.1),pal(w*.2+.3+colorShift),.9);}vec3 lens(vec2 p){for(int i=0;i<6;i++){vec2 d=p-vec2(sin(float(i)),cos(float(i)))*.3;float l=dot(d,d)+.01;p-=d*(.05/l);}return pal(fbm(p*5.+t*sp*.4)+colorShift);}vec3 dream(vec2 p){float v=fbm(p*3.+vec2(sin(t*.3*sp),cos(t*.2*sp)));vec3 c=pal(v*.8+.2+colorShift);c+=.02/length(p+vec2(.2*sin(t*.5*sp),.2*cos(t*.4*sp)));return c;}vec3 scene(vec2 p){p*=rot(.2*t*sp);p+=shapeDistortion*.1*sin(p*5.+t);if(md==1)return tunnel(p);if(md==2)return neb(p*1.2);if(md==3)return psychedelicBurst(p);if(md==4)return organicBlobs(p);if(md==5)return kale(p*1.2);if(md==6)return ripple(p);if(md==7)return flare(p);if(md==8)return grid(p);if(md==9)return marble(p);if(md==10)return lava(p);if(md==11)return plasma(p);if(md==12)return aur(p);if(md==13)return star(p);if(md==14)return dunes(p);if(md==15)return cell(p);if(md==16)return sun(p);if(md==17)return organicBlobs(p*1.3);if(md==18)return ocean(p);if(md==19)return lens(p);return dream(p);}void mainImage(out vec4 col, vec2 frag){vec2 uv=(frag-r*.5)/r.y;vec3 c0=scene(uv*1.00);vec3 c1=scene(uv*1.006);vec3 c2=scene(uv*0.994);vec3 c=vec3(c0.r,c1.g,c2.b)*(1.+pulseIntensity*.3);float pul=.5+.5*sin(t*3.);float v=smoothstep(1.4,0.2,length(uv))*(.9+pul*.1);c*=v;c+= (N(frag)-.5)*.02;c=mix(c,vec3(0.),.08);col=vec4(c,1.);} `;
    const FS_END2 = `void main(){vec4 c;mainImage(c,gl_FragCoord.xy);o=c;}`;
    const FS_END1 = `void main(){vec4 c;mainImage(c,gl_FragCoord.xy);gl_FragColor=c;}`;

    function mkShader(src, type) {
      const s = gl.createShader(type);
      gl.shaderSource(s, src);
      gl.compileShader(s);
      if (!gl.getShaderParameter(s, gl.COMPILE_STATUS)) throw new Error(gl.getShaderInfoLog(s));
      return s
    }
    const prog = gl.createProgram();
    const vs = mkShader(is2 ? VS2 : VS1, gl.VERTEX_SHADER);
    const fs = mkShader((is2 ? FS2 : FS1) + CORE + (is2 ? FS_END2 : FS_END1), gl.FRAGMENT_SHADER);
    gl.attachShader(prog, vs);
    gl.attachShader(prog, fs);
    gl.linkProgram(prog);
    if (!gl.getProgramParameter(prog, gl.LINK_STATUS)) throw new Error(gl.getProgramInfoLog(prog));
    gl.useProgram(prog);
    if (!is2) {
      const buf = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, buf);
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 3, -1, -1, 3]), gl.STATIC_DRAW);
      const loc = gl.getAttribLocation(prog, 'a');
      gl.enableVertexAttribArray(loc);
      gl.vertexAttribPointer(loc, 2, gl.FLOAT, !1, 0, 0)
    }
    const uR = gl.getUniformLocation(prog, 'r'),
      uT = gl.getUniformLocation(prog, 't'),
      uM = gl.getUniformLocation(prog, 'm'),
      uMd = gl.getUniformLocation(prog, 'md'),
      uSp = gl.getUniformLocation(prog, 'sp'),
      uColorShift = gl.getUniformLocation(prog, 'colorShift'),
      uShapeDistortion = gl.getUniformLocation(prog, 'shapeDistortion'),
      uPulseIntensity = gl.getUniformLocation(prog, 'pulseIntensity');
    let t0 = performance.now() / 1e3;
    const loop = () => {
      let T = performance.now() / 1e3 - t0;
      timeOffset = T * .1;
      gl.viewport(0, 0, C.width, C.height);
      gl.uniform2f(uR, C.width, C.height);
      gl.uniform1f(uT, T);
      gl.uniform2f(uM, mx, my);
      gl.uniform1i(uMd, md);
      gl.uniform1f(uSp, sp);
      gl.uniform1f(uColorShift, colorShift + timeOffset);
      gl.uniform1f(uShapeDistortion, shapeDistortion);
      gl.uniform1f(uPulseIntensity, pulseIntensity || .3);
      gl.drawArrays(gl.TRIANGLES, 0, 3);
      requestAnimationFrame(loop)
    };
    loop();
  })();
</script>
